random test. Take a look at random.cpp for details.
