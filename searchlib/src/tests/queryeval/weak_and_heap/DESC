weak_and_heap test. Take a look at weak_and_heap_test.cpp for details.
