shutdown guard test. Take a look at shutdownguard_test.cpp for details.
