<?xml version='1.0' encoding='UTF-8'?>
<services version='1.0' xmlns:deploy="vespa" xmlns:preprocess="properties">

  <jdisc id='default' version='1.0'>

    <search>
      <chain id='blog' inherits='vespa'>
        <searcher bundle='recommendation' id='com.yahoo.example.BlogTensorSearcher' />
      </chain>
      <chain id='user' inherits='vespa'>
        <searcher bundle='recommendation' id='com.yahoo.example.UserProfileSearcher' />
      </chain>
      <chain id='default' inherits='vespa'>
        <searcher bundle='recommendation' id='com.yahoo.example.UserProfileSearcher' />
        <searcher bundle='recommendation' id='com.yahoo.example.BlogTensorSearcher' />
      </chain>
    </search>
    <document-api/>
    <nodes count='1'/>
  </jdisc>

  <content id='content' version='1.0'>
    <redundancy>1</redundancy>
    <documents>
      <document mode='index' type='blog_post'/>
      <document mode='index' type='user'/>
    </documents>
    <nodes count='1'/>
    <engine>
      <proton>
        <searchable-copies>1</searchable-copies>
      </proton>
    </engine>
  </content>

</services>
